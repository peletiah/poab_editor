<div ng-controller="FileUploadCtrl">
  <div>
    <input type="file" ng-model-instant id="fileToUpload" multiple onchange="angular.element(this).scope().setFiles(this)" />
  </div>
  <div ng-show="files.length">
    <ul ng-repeat="file in files.slice(0)">
      <li>
        <span>{{file.webkitRelativePath || file.name}}</span>
        (<span ng-switch="file.size > 1024*1024">
          <span ng-switch-when="true">{{file.size / 1024 / 1024 | number:2}} MB</span>
          <span ng-switch-default>{{file.size / 1024 | number:2}} kB</span>
        </span>)
       </li>
    </ul>
    <input type="button" ng-click="uploadFile()" value="Upload" />
    <div ng-show="progressVisible">
      <div class="percent">{{progress}}%</div>
      <div class="progress-bar">
        <div class="uploaded" ng-style="{'width': progress+'%'}"></div>
      </div>
      <div ng-show="filenames.length">
        <ul ng-repeat="file in filenames">
          <li>
          <img src="/static{{file}}" width="500px">
          </li>
        </ul>
      </div>
    </div>
  </div>
   
</div>

